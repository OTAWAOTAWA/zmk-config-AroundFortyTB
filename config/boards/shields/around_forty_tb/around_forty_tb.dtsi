/* config/boards/shields/around_forty_tb/around_forty_tb.dtsi */
#include <dt-bindings/zmk/matrix_transform.h>

 / {
    chosen { zmk,kscan = &kscan0; };

    kscan0: kscan_0 {
        compatible = "zmk,kscan-gpio-matrix";
        label = "KSCAN";
        diode-direction = "col2row";

        /* Rows（入力 / プルダウン付き）
         * D1=P0.02, D2=P0.03, D3=P0.28, D6=P1.06
         */
        row-gpios =
            <&gpio0  2 (GPIO_ACTIVE_HIGH | GPIO_PULL_DOWN)>,
            <&gpio0  3 (GPIO_ACTIVE_HIGH | GPIO_PULL_DOWN)>,
            <&gpio0 28 (GPIO_ACTIVE_HIGH | GPIO_PULL_DOWN)>,
            <&gpio1  6 (GPIO_ACTIVE_HIGH | GPIO_PULL_DOWN)>;

        /* Cols（出力 / プル無し）
         * D10=P0.31, D9=P0.30, D8=P0.29, D7=P0.04, P0.10(NFCをGPIO化する必要あり)
         */
        col-gpios =
            <&gpio0 31 GPIO_ACTIVE_HIGH>,
            <&gpio0 30 GPIO_ACTIVE_HIGH>,
            <&gpio0 29 GPIO_ACTIVE_HIGH>,
            <&gpio0  4 GPIO_ACTIVE_HIGH>,
            <&gpio0 10 GPIO_ACTIVE_HIGH>;
    };
};
